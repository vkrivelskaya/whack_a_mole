{"version":3,"sources":["webpack:///./main.js","webpack:///./styles/style.scss?34a4","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./index.js"],"names":["selectors","HOLE","GAME","START_BTN","SCORE","MODAL","UP","HOLE_7","HOLE_8","classes","MOLE","ACTIVE","CLOSE","REPEAT_BTN","NEXT_LEVEL_BTN","NEW_GAME_BTN","NEXT_LEVEL","holes","document","querySelectorAll","scoreBoardElement","querySelector","modalWindowElement","hole7Element","hole8Element","minRate","maxRate","gameDuration","score","minMoleDisappearanceRate","maxMoleDisappearanceRate","timerId","lastHole","isGameFinished","getRandomTime","min","max","Math","round","random","getRandomHole","holesRandomElementIndex","floor","length","newHole","peepMole","time","hole","classList","add","setTimeout","remove","saveLevelDataToLocalStorage","localStorage","setItem","finishGame","forEach","el","clearTimeout","startLevel","startGame","Number","getItem","whackMole","e","isTrusted","target","className","includes","parentNode","textContent","closeModalWindow","repeatLevel","goToNextLevel","cleanUpLevelDataFromLocalStorage","removeItem","startNewGame","determineModalWindowElement","setupInitialLevel","init","gameContainerElement","startButtonElement","addEventListener"],"mappings":"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","file":"main.js","sourcesContent":["const selectors = {\r\n    HOLE: '.hole',\r\n    GAME: '.game',\r\n    START_BTN: '.start',\r\n    SCORE:'.score',\r\n    MODAL: '.modal',\r\n    UP: '.up',\r\n    HOLE_7: '.hole-7',\r\n    HOLE_8: '.hole-8',\r\n};\r\n\r\nconst classes = {\r\n    MOLE: 'mole',\r\n    UP: 'up',\r\n    ACTIVE: 'active',\r\n    CLOSE: 'close',\r\n    REPEAT_BTN: 'repeat-level-button',\r\n    NEXT_LEVEL_BTN: 'next-level-button',\r\n    NEW_GAME_BTN: 'new-game-button',\r\n    NEXT_LEVEL: 'next-level',\r\n};\r\n\r\nconst holes = document.querySelectorAll(selectors.HOLE);\r\nconst scoreBoardElement = document.querySelector(selectors.SCORE);\r\nconst modalWindowElement = document.querySelector(selectors.MODAL);\r\nconst hole7Element = document.querySelector(selectors.HOLE_7);\r\nconst hole8Element = document.querySelector(selectors.HOLE_8);\r\nconst minRate = 200;\r\nconst maxRate = 3000;\r\nconst gameDuration = 10000;\r\nlet score = 0;\r\nlet minMoleDisappearanceRate;\r\nlet maxMoleDisappearanceRate;\r\nlet timerId;\r\nlet lastHole;\r\nlet isGameFinished = false;\r\n\r\nfunction getRandomTime(min, max) {\r\n    return Math.round(Math.random() * (max - min) + min);\r\n}\r\n\r\nfunction getRandomHole(holes) {    \r\n    const holesRandomElementIndex = Math.floor(Math.random() * holes.length);\r\n    const newHole = holes[holesRandomElementIndex];    \r\n\r\n    if (newHole === lastHole) {\r\n        return getRandomHole(holes);\r\n    }\r\n    lastHole = newHole;\r\n    return newHole;  \r\n}\r\n\r\nfunction peepMole() {\r\n    const time = getRandomTime(minMoleDisappearanceRate, maxMoleDisappearanceRate);\r\n    const hole = getRandomHole(holes);\r\n\r\n    if(!isGameFinished) {\r\n        hole.classList.add(classes.UP);\r\n        timerId = setTimeout(() => {\r\n            hole.classList.remove(classes.UP);\r\n            peepMole();\r\n        }, time);         \r\n    }        \r\n}\r\n\r\nfunction saveLevelDataToLocalStorage() {\r\n    localStorage.setItem('score', score);\r\n    localStorage.setItem('min', minMoleDisappearanceRate);\r\n    localStorage.setItem('max', maxMoleDisappearanceRate);\r\n}\r\n\r\nfunction finishGame() {\r\n    isGameFinished = true;\r\n    document.querySelectorAll(selectors.UP).forEach((el) => el.classList.remove(classes.UP));\r\n    saveLevelDataToLocalStorage();\r\n    clearTimeout(timerId);\r\n    modalWindowElement.classList.add(classes.ACTIVE);\r\n}\r\n\r\nfunction startLevel() {\r\n    isGameFinished = false;\r\n    peepMole();\r\n    setTimeout(finishGame, gameDuration);\r\n}\r\n\r\nfunction startGame() {    \r\n    score = Number(localStorage.getItem('score') || 0);\r\n    minMoleDisappearanceRate = localStorage.getItem('min') || minRate;\r\n    maxMoleDisappearanceRate = localStorage.getItem('max') || maxRate;\r\n    startLevel();     \r\n}\r\n\r\nfunction whackMole(e) {\r\n    if(!e.isTrusted) return;\r\n    if (e.target.className.includes(classes.MOLE)) {\r\n        score += 1; \r\n        e.target.parentNode.classList.remove(classes.UP);\r\n        scoreBoardElement.textContent = score;\r\n    }    \r\n}\r\n\r\nfunction closeModalWindow() {\r\n    modalWindowElement.classList.remove(classes.ACTIVE);\r\n}\r\n\r\nfunction repeatLevel() {\r\n    closeModalWindow(); \r\n    startLevel();\r\n}\r\n\r\nfunction goToNextLevel() {\r\n    minMoleDisappearanceRate *= 0.8;\r\n    maxMoleDisappearanceRate *= 0.7;\r\n    closeModalWindow();\r\n    holes.forEach((el) => el.classList.add(classes.NEXT_LEVEL));\r\n    hole7Element.classList.add(classes.ACTIVE);    \r\n    hole8Element.classList.add(classes.ACTIVE);\r\n    startLevel();    \r\n}\r\n\r\nfunction cleanUpLevelDataFromLocalStorage() {\r\n    localStorage.removeItem('score');\r\n    localStorage.removeItem('min');\r\n    localStorage.removeItem('max');\r\n}\r\n\r\nfunction startNewGame() {\r\n    cleanUpLevelDataFromLocalStorage();\r\n    scoreBoardElement.textContent = 0;\r\n    closeModalWindow();    \r\n    score = 0;\r\n    minMoleDisappearanceRate = minRate;\r\n    maxMoleDisappearanceRate = maxRate;\r\n    startLevel(); \r\n}\r\n\r\nfunction determineModalWindowElement(e) {\r\n    const target = e.target.className;\r\n    if (target.includes(classes.CLOSE)) {\r\n        closeModalWindow();\r\n        return;\r\n    }\r\n\r\n    if (target.includes(classes.REPEAT_BTN)) {\r\n        repeatLevel();\r\n        return;\r\n    }\r\n\r\n    if (target.includes(classes.NEXT_LEVEL_BTN)) {\r\n        goToNextLevel();\r\n        return;\r\n    }\r\n\r\n    if (target.includes(classes.NEW_GAME_BTN)) {        \r\n        startNewGame();\r\n        return;\r\n    }\r\n}\r\n\r\nfunction setupInitialLevel() {\r\n    minMoleDisappearanceRate = localStorage.getItem('min') || minRate;\r\n    maxMoleDisappearanceRate = localStorage.getItem('max') || maxRate;\r\n\r\n    if (minMoleDisappearanceRate < minRate && maxMoleDisappearanceRate < maxRate) {\r\n        holes.forEach((el) => el.classList.add(classes.NEXT_LEVEL));\r\n        hole7Element.classList.add(classes.ACTIVE);    \r\n        hole8Element.classList.add(classes.ACTIVE);\r\n    }\r\n    scoreBoardElement.textContent = Number(localStorage.getItem('score') || 0);   \r\n}\r\n\r\nfunction init() {\r\n    const gameContainerElement = document.querySelector(selectors.GAME);\r\n    const startButtonElement = document.querySelector(selectors.START_BTN);\r\n\r\n    setupInitialLevel();\r\n    startButtonElement.addEventListener('click', startGame);\r\n    gameContainerElement.addEventListener('click', whackMole);\r\n    modalWindowElement.addEventListener('click', determineModalWindowElement);\r\n}\r\n\r\ninit();","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './styles/style.scss';\r\nimport './main.js';"],"sourceRoot":""}